# Oxidize Server Configuration
# Auto-generated by Ansible

[server]
listen_addr = "0.0.0.0:51820"
public_ip = "{{ public_ip.content | default(ansible_default_ipv4.address) | default('0.0.0.0') | trim }}"
cert_path = "/etc/oxidize/certs/server.crt"
key_path = "/etc/oxidize/certs/server.key"

[network]
interface = "{{ data_nic.stdout | default('eth0') }}"
kernel_bypass = "xdp"
workers = {{ cpu_count.stdout | default(ansible_processor_vcpus) | default('4') }}
zero_copy = true

[performance]
hugepages = {{ 'true' if (hugepages_count | default('0') | int) > 0 else 'false' }}
hugepage_size = "2MB"
rx_ring_size = 4096
tx_ring_size = 4096
batch_size = 64

[quic]
max_idle_timeout_ms = 30000
initial_rtt_ms = 100
max_udp_payload_size = 1350
max_concurrent_streams = 100
max_connections = 10000

[logging]
level = "info"
file = "/var/log/oxidize/oxidize.log"
